{% extends 'base.html' %}

{% block stats_for_login %}
<ul class="navbar-nav ml-auto text-center" dir="ltr">
  <div class="btn-group d-block me-lg-1 mx-lg-1" role="group">
    <button id="users" type="button" class="btn primary dropdown-toggle" data-bs-toggle="dropdown"
      aria-expanded="false">
      <img src="https://cdn.discordapp.com/avatars/716783245387235410/4e1581b67a4e10269da668db41716590.png?size=1024"
        width="28" height="28" class="image"> <b>S A Q R</b>
    </button>
    <ul class="dropdown-menu saqrs" aria-labelledby="users">
      <li class="nav-item"><a class="dropdown-item text-center primary" href="/dashboard">السيرفرات</a></li>
      {% if is_admin %}
      <li class="nav-item"><a class="dropdown-item text-center primary" href="/admin">لوحة الادمن</a></li>
      <li class="nav-item"><a class="dropdown-item text-center primary" href="/admin/logs">السجلات</a></li>
      {% endif %}
      <li class="nav-item"><a class="dropdown-item text-center primary red" href="/logout">تسجيل خروج</a></li>
    </ul>
  </div>
</ul>
{% endblock %}

{% block content %}


<div class="all text first div">

    <section class="py-5 text-white text first div">
        <div class="container">

            <div class="row row-cols-1 row-cols-md-3 g-1">

                <!-- Setup channel -->
                <div class="col">
                    <div class="card bg-dark m-1">
                        <div class="card-body">
                            <h1 class="set text-light text-center">تحديد روم للاذكار</h1>
                        </div>
                        <div class="card-footer">
                            <select class="form-select form-select-sm" aria-label=".form-select-sm example">
                                <option selected>اختر ..</option>
                                {% for channel in text_channels %}
                                    {% if channel.id == info.channel %}
                                        <option value="{{ channel.id }}" class="text-start" selected>#{{ channel.name }}
                                        </option>
                                    {% else %}}
                                        <option value="{{ channel.id }}" class="text-start">#{{ channel.name }}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Setup qurau role channel -->
                <div class="col">
                    <div class="card bg-dark m-1 mb-3">
                        <div class="card-body">
                            <h1 class="set text-light text-center">تحديد رتبه للقران الكربم</h1>
                        </div>
                        <div class="card-body">
                            <select class="form-select form-select-sm" aria-label=".form-select-sm example">
                                <option selected>اختر ..</option>
                                {% for role in roles %}
                                    {% if role.name == '@everyone' %}
                                    {% else %}
                                        {% if role.id == info.role_id %}
                                            <option value="{{ role.id }}" class="text-start" selected>@{{ role.name }}</option>
                                        {% else %}
                                            <option value="{{ role.id }}" class="text-start">@{{ role.name }}</option>
                                        {% endif %}
                                    {% endif %}
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div class="card bg-dark m-1 maintenance">
                        <div class="card-body">
                            <h1 class="set text-light text-center">تحديد روم صوتي</h1>
                        </div>
                        <div class="card-footer">
                            <select class="form-select form-select-sm" aria-label=".form-select-sm example" disabled>
                                <option selected>معكل سيتم فتحه قريبن ..</option>
                                {% for channel in voice_channels %}
                                    {% if channel.id == info.voice %}
                                        <option value="{{ channel.id }}" class="text-start" selected>#{{ channel.name }}</option>
                                    {% else %}}	
                                        <option value="{{ channel.id }}" class="text-start">#{{ channel.name }}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                        </div>
                    </div>
                </div>

            </div>

            <div class="row row-cols-1 row-cols-md-3 g-3">

                <div class="col">
                    <div class="card bg-dark m-1">
                        <div class="card-body">
                            <h1 class="set text-light text-center">تغير الوقت</h1>
                        </div>
                        <div class="card-footer">
                            <select class="form-select form-select-sm" aria-label=".form-select-sm example">
                                <option value="1800" class="text-end" {% if 1800==info.time %} selected {% endif %}>
                                    دقيقه 30</option>
                                <option value="3600" class="text-end" {% if 3600==info.time %} selected {% endif %}>ساعة
                                </option>
                                <option value="7200" class="text-end" {% if 7200==info.time %} selected {% endif %}>
                                    ساعتين</option>
                                <option value="21600" class="text-end" {% if 21600==info.time %} selected {% endif %}>6
                                    ساعات</option>
                                <option value="43200" class="text-end" {% if 43200==info.time %} selected {% endif %}>
                                    ساعات 12</option>
                                <option value="86400" class="text-end" {% if 86400==info.time %} selected {% endif %}>
                                    ساعات 24</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div class="card bg-dark">
                        <div class="card-body">
                            <h1 class="set text-light text-center">علبة الوان</h1>
                        </div>
                        <div class="card-footer">
                            <input type="color" class="form-control form-control-color w-100" id="exampleColorInput"
                                value="#000000" title="Choose your color"><br>
                        </div>
                    </div>
                </div>

                <div class="col">
                    <div class="card bg-dark m-1 maintenance ">
                        <div class="card-body">
                            <h1 class="set text-light text-center">تحديد روم الخاتمه</h1>
                        </div>
                        <div class="card-body">
                            <select class="form-select form-select-sm" aria-label=".form-select-sm example" disabled>
                                <option selected>معكل سيتم فتحه قريبن ..</option>
                                {% for channel in text_channels %}
                                    {% if channel.id == info.channel_quran %}
                                        <option value="{{ channel.id }}" class="text-start" selected>#{{ channel.name }}</option>
                                    {% else %}}	
                                        <option value="{{ channel.id }}" class="text-start">#{{ channel.name }}</option>
                                    {% endif %}
                                {% endfor %}
                            </select>
                        </div>
                        <!-- <div class="card-body">
                            <div class="h3 m-0 p-0 ssss">
                                <div class="form-check form-switch float-end h3 m-0 p-0 ssss d-inline-flex">
                                    <input class="form-check-input" type="checkbox" role="switch"
                                        id="flexSwitchCheckChecked" checked disabled>
                                </div>
                                <input type="color" class="form-control form-control-color d-inline-flex float-start"
                                    id="exampleColorInput" value="#000000" title="Choose your color" disabled>
                            </div>
                        </div> -->
                    </div>
                </div>

            </div>


            <br>
            <div class="row row-cols-1 row-cols-md-1 g-4">


                <div class="col" dir="ltr">
                    <div class="card bg-dark m-1">
                        <div class="card-body">
                            <h1 class="set text-light d-inline-flex float-end ">تحديد نوع الارسال</h1>
                            <div class="form-check form-switch text-start h3 d-inline-flex rt">
                                <input class="form-check-input rt" type="checkbox" role="switch"
                                    id="flexSwitchCheckChecked" {% if info.ant_spam %}checked{% endif %}>
                            </div>
                            <p class="text-end h6 sfsf"><b class="sfsf-1">(ينصح لسيرفرات الكبيره)</b> يقلل في ارسال
                                الذكار
                                اذا لم يكون
                                اشات متفاعل</p>
                        </div>
                    </div>
                </div>


                <div class="col" dir="ltr">
                    <div class="card bg-dark m-1">
                        <div class="card-body">
                            <h1 class="set text-light d-inline-flex float-end ">تحديد نوع الامبد</h1>
                            <div class="form-check form-switch text-start h3 d-inline-flex rt">
                                <input class="form-check-input rt" type="checkbox" role="switch"
                                    id="flexSwitchCheckChecked" {% if info.embed %}checked{% endif %}>
                            </div>
                            <p class="text-end h6 sfsf">يضع الاذكار في سندوق مرتب</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>

<!-- <div class="col" dir="ltr">
    <div class="card bg-dark m-1">
        <div class="card-body">
            <h1 class="set text-light d-inline-flex float-end ">احذر — لديك تغييرات لم يتم حفظها!</h1>
               <div class="group-buttons save-menu">
                   <button class="btn btn-lg me-2 mx-2">حفظ التغييرات</button>
                   <a href=""><button class="btn btn-lg me-2 mx-2">إلغاء</button></a>
               </div>
        </div>
    </div>
</div> -->

<button type="button" class="btn btn-primary" id="liveToastBtn">404</button>

<div class="position-fixed bottom-0 end-0" style="z-index: 11">
    <div id="liveToast" class="show" role="alert" aria-live="assertive" aria-atomic="false">
        <div class="col">
            <div class="card bg-dark m-1" style="border: 1px solid var(--color1);">
                <div class="card-body">
                    <h1 class="set text-light d-inline-flex float-end ">احذر — لديك تغييرات لم يتم حفظها!</h1>
                    <div class="group-buttons float-start save-menu">
                        <button class="btn btn-lg me-2 mx-2">حفظ التغييرات</button>
                        <button class="btn btn-lg me-2 mx-2">إلغاء</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    var toastTrigger = document.getElementById('liveToastBtn')
    var toastLiveExample = document.getElementById('liveToast')
    if (toastTrigger) {
        toastTrigger.addEventListener('click', function () {
        var toast = new bootstrap.Toast(toastLiveExample)

        toast.show()
        })
    }

    var trueSave = document.getElementById('true-save')
    var falseSave = document.getElementById('false-save')

    document.getElementById('setroom-save-button').addEventListener('click', function () {
        $.ajax({
            url: `/api/guilds/{{ guild.id }}/channel`,
            type: "post",
            data: {
                "channel_id": "lol",
            },
            success: function (data, status, xhr) {
                console.log(data)
                if (!data.error) {
                    var toast = new bootstrap.Toast(trueSave)
                    toast.show()
                } else {
                    var toast = new bootstrap.Toast(falseSave)
                    toast.show()
                }
            },
            error: function (data, status) {
                var toast = new bootstrap.Toast(falseSave)
                toast.show()
            }
        });
    })


    // if (toastTrigger) {
    // 	toastTrigger.addEventListener('click', function () {
    // 		var toast = new bootstrap.Toast(toastLiveExample)

    // 		toast.show()
    // 	})
    // }

    var toastTrigger = document.getElementById('quran-play-true')
    var toastLiveExample = document.getElementById('quran-play-true-1')
    if (toastTrigger) {
        toastTrigger.addEventListener('click', function () {
            var toast = new bootstrap.Toast(falseSave)
            toast.show()
        })
    }
    var toastTrigger = document.getElementById('quran-role-true')
    var toastLiveExample = document.getElementById('quran-role-true-1')
    if (toastTrigger) {
        toastTrigger.addEventListener('click', function () {
            var toast = new bootstrap.Toast(trueSave)
            toast.show()
        })
    }
    var toastTrigger = document.getElementById('embed-true')
    var toastLiveExample = document.getElementById('embed-true-1')
    if (toastTrigger) {
        toastTrigger.addEventListener('click', function () {
            var toast = new bootstrap.Toast(trueSave)
            toast.show()
        })
    }
    var toastTrigger = document.getElementById('spam-true')
    var toastLiveExample = document.getElementById('spam-true-1')
    if (toastTrigger) {
        toastTrigger.addEventListener('click', function () {
            var toast = new bootstrap.Toast(trueSave)
            toast.show()
        })
    }
    var toastTrigger = document.getElementById('embed-1-true')
    var toastLiveExample = document.getElementById('embed-1-true-1')
    if (toastTrigger) {
        toastTrigger.addEventListener('click', function () {
            var toast = new bootstrap.Toast(trueSave)
            toast.show()
        })
    }

</script>


{% endblock %}

{% block footer %}
{{ super() }}
{% endblock %}